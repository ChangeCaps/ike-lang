import std::ok
import std::err

fn main {
  let file = file {
    path: "test.ike"
    content: std::fs::read "test.ike" |> std::result::assert
  }

  match parse::tokenize file {
    ok tokens -> {
      let tokens, _ = std::list::unzip tokens

      std::debug::print tokens
    }

    err e -> {
      e |> diagnostic::format
      |> std::io::println
    }
  }
}
